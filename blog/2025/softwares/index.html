<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="wNt-P7enH5ZTT0cjYYqXEN9GRrj-0_OcbZSER57FIK4"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> How to configure a new system with supporting libraries for compiling MHD models? | Soumyaranjan Dash </title> <meta name="author" content="Soumyaranjan Dash"> <meta name="description" content="instructions for setting up software packages and configuring systems for global simulations"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%98%80%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://sr-dash.github.io/blog/2025/softwares/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Soumyaranjan</span> Dash </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blogs </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/"> </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/"> </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">How to configure a new system with supporting libraries for compiling MHD models?</h1> <p class="post-meta"> Created in July 03, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/configuration"> <i class="fa-solid fa-hashtag fa-sm"></i> configuration</a>   <a href="/blog/tag/newsystem"> <i class="fa-solid fa-hashtag fa-sm"></i> newsystem</a>   <a href="/blog/tag/code"> <i class="fa-solid fa-hashtag fa-sm"></i> code</a>   ·   <a href="/blog/category/research"> <i class="fa-solid fa-tag fa-sm"></i> research</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>Often when migrating to new systems, it can get difficult to setup all the necessary libraries and packages in the target system for continuing working on the mddelling. In this post I will try to summarize the libraries required for setting up some of the simulations codes e.g., SWMF, MPI-AMRVAC, SFT-1D. Some of these codes require <code class="language-plaintext highlighter-rouge">hdf5</code>, <code class="language-plaintext highlighter-rouge">netcdf-c/fortran</code>, <code class="language-plaintext highlighter-rouge">zlib</code>, <code class="language-plaintext highlighter-rouge">curl</code>, <code class="language-plaintext highlighter-rouge">OPENMPI</code> and <code class="language-plaintext highlighter-rouge">GCC</code>.</p> <p><strong>GCC</strong></p> <p>It is quite simple to build up on the existing system libraries (on Linux/Mac systems). The bash script file <a href="https://github.com/darrenjs/howto/blob/master/build_scripts/build_gcc_13.2.0.sh" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">build_gcc_13.2.0.sh</code></a> is the best resource for this. Download the file and run it in a <code class="language-plaintext highlighter-rouge">bash</code> shell. <strong>Add <code class="language-plaintext highlighter-rouge">fortran</code> language to the list of languages inside the shell script.</strong> At the end of the building, it will show the instructions to append the installed libraries to the system <code class="language-plaintext highlighter-rouge">$PATH</code>. The script downloads and installs the libraries on the system. A note of caution, the whole process may take about ~3 hrs., so be patient.</p> <p>After this, you can build the <code class="language-plaintext highlighter-rouge">OPENMPI</code> libraries. The installation version <code class="language-plaintext highlighter-rouge">openmpi-4.1.5</code> seem to work for me with the <code class="language-plaintext highlighter-rouge">GCC</code> installation versions. I prefer building the libraries with a local prefix.</p> <p>Inside the openmpi-4.1.5 directory run the following,</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./configure --prefix=~/opt/openmpi-4.1.5
make -j 4
make install
</code></pre></div></div> <p>Here are a few lines that you can add to the <code class="language-plaintext highlighter-rouge">~/.bashrc</code> or <code class="language-plaintext highlighter-rouge">~/.zshrc</code> file after the <code class="language-plaintext highlighter-rouge">OPENMPI</code> installation.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export PATH=~/openmpi-4.1.5/bin:~/opt/gcc-13.2.0/bin:$PATH
export LD_LIBRARY_PATH=~/openmpi-4.1.5/lib:~/opt/gcc-13.2.0/lib:~/opt/gcc-13.2.0/lib64:$LD_LIBRARY_PATH
export MANPATH=~/opt/gcc-13.2.0/share/man:$MANPATH
export INFOPATH=~/opt/gcc-13.2.0/share/info:$INFOPATH
</code></pre></div></div> <p>After the installation you can check the version of the <code class="language-plaintext highlighter-rouge">gcc</code> by typing <code class="language-plaintext highlighter-rouge">gcc -v</code>. Similarly for <code class="language-plaintext highlighter-rouge">fortran</code> as well. At the end of this the system should have all the <code class="language-plaintext highlighter-rouge">mpicc, mpif90, gcc, gfortran</code> executables in the default <code class="language-plaintext highlighter-rouge">$PATH</code> variable.</p> <p><strong>netCDF</strong></p> <p>Installation of netcdf libraries is dependent on multiple other libraries e.g., <code class="language-plaintext highlighter-rouge">curl</code>, <code class="language-plaintext highlighter-rouge">zlib</code>, <code class="language-plaintext highlighter-rouge">hdf5</code>, <code class="language-plaintext highlighter-rouge">netcdf-c</code> and <code class="language-plaintext highlighter-rouge">netcdf-fortran</code>. Here is a shell script <a href="https://github.com/sr-dash/SFT-1D/blob/main/install_netcdf.sh" rel="external nofollow noopener" target="_blank">install_netcdf.sh</a> for this. A few extra install flags and versions are suggested for a system-wide installation.</p> <p>Suggested versions</p> <ul> <li> <code class="language-plaintext highlighter-rouge">hdf5-1.14.6</code>, build with <code class="language-plaintext highlighter-rouge">--enable-fortran</code>, <code class="language-plaintext highlighter-rouge">--enable-cxx</code>/<code class="language-plaintext highlighter-rouge">--enable-parallel</code>.</li> <li><code class="language-plaintext highlighter-rouge">netcdf-c-4.9.3</code></li> <li><code class="language-plaintext highlighter-rouge">netcdf-fortran-4.6.1</code></li> <li><code class="language-plaintext highlighter-rouge">zlib-1.3.1</code></li> <li><code class="language-plaintext highlighter-rouge">curl-8.14.1</code></li> </ul> <p>Again the shell script downloads the required files and builds the libraries at a user location.</p> <p><strong>None of the scripts require admin privileges, so building these libraries should be self-sufficient.</strong></p> <p>After building these libraries, you must update the system <code class="language-plaintext highlighter-rouge">$PATH$</code> variable for future use. Individual simulation codes require independent path to the libraries. I will write create other posts for installing and testing individual widely used codes.</p> <p>Hope this helps!</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/enkf/">Ensemble Kalman-Filter implementation with SFT model to solar surface infer flow properties</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/longterm/">Long-term modulation of heliosphere</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2020/eclipse2019/">Magnetic field configuration prediction for total solar eclipse of 2019</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Soumyaranjan Dash. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: July 03, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?70d799092f862ad98c7876aa47712e20"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-8X5BSNF3VV"></script> <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-8X5BSNF3VV');
  </script> <script defer src="/assets/js/google-analytics-setup.js?12374742c4b1801ba82226e617af7e2d"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>